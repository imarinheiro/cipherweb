{% load tags %}
<div id="js-round-3">
    <h4 class="ui header">Terceira Rodada</h4>
    <div class="ui pointing secondary menu stackable">
        <a class="item active" data-tab="round_2_shift">Deslocamento de Linhas</a>
        <a class="item" data-tab="round_2_sub">Substituição de Nibbles</a>
        <a class="item" data-tab="round_2_add">Adição da chave de Rodada</a>
    </div>
    <div class="ui tab segment" data-tab="round_2_sub">
        {% tuple_before_after round_2.substitute_nibble as list %}
        <div class="ui top attached tabular menu stackable">
            {% for state in list %}
                <a class="item{% if forloop.first %} active {% endif %}"
                   data-tab="round_2_sub/{{ forloop.counter }}">Bloco {{ forloop.counter }}</a>
            {% endfor %}
        </div>
        {% for states in list %}
            <div class="ui bottom attached tab segment{% if forloop.first %} active {% endif %}"
                 data-tab="round_2_sub/{{ forloop.counter }}">
                {% include 'appsaes/states/state_sub.html' %}
            </div>
        {% endfor %}
    </div>
    <div class="ui tab segment" data-tab="round_2_add">
        {% tuple_before_after round_2.add_round_key as list %}
        <div class="ui top attached tabular menu stackable">
            {% for state in list %}
                <a class="item{% if forloop.first %} active {% endif %}"
                   data-tab="round_2_add/{{ forloop.counter }}">Bloco {{ forloop.counter }}</a>
            {% endfor %}
        </div>
        {% for states in list %}
            <div class="ui bottom attached tab segment{% if forloop.first %} active {% endif %}"
                 data-tab="round_2_add/{{ forloop.counter }}">
                {% include 'appsaes/states/state_add.html' %}
            </div>
        {% endfor %}
    </div>
    <div class="ui tab segment active" data-tab="round_2_shift">
        {% tuple_before_after round_2.shift_row as list %}
        <div class="ui top attached tabular menu stackable">
            {% for state in list %}
                <a class="item{% if forloop.first %} active {% endif %}"
                   data-tab="round_2_shift/{{ forloop.counter }}">Bloco {{ forloop.counter }}</a>
            {% endfor %}
        </div>
        {% for states in list %}
            <div class="ui bottom attached tab segment{% if forloop.first %} active {% endif %}"
                 data-tab="round_2_shift/{{ forloop.counter }}">
                {% include 'appsaes/states/state_shift.html' %}
            </div>
        {% endfor %}
    </div>
</div>